<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/static/favicon.7c0adb24.ico"/><link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4QcUCzQMwl4uYgAABNZJREFUWMPtlktsVVUYhb917umLttgCQsu7j4CYOJAwVxNHJsaJOOBVpRQoIBYVEaEq4CNITAwaKKj4GOBETdSYOGKgA6JxYogiMSaCQi8PEwFLy23PWQ7Oue295d4Q0YQJf7JzTu65e/1r/2vtf2+4FTc5lH/ZteQsQCUQAEO9h6f9b0nWrzlHRIxgApADRvYfaII0GQBOxkLDc7Go3bH07P+S/In154kcIzPVZodhrgu+FxAwhnbjZwzbYlH9wrL/TiI3HCFoNN5tvNZ4hhmjEADsXHY2+Ulus6gyftJ4SyyqepffOInu1VkEE4FXgBWIupIVsCFUIEObgYQEW4x7YlGx7QZIrEuS1xp2GndZBCl2u4HV3dkCAsAIrjW0WKkfRI2h13hdFBBuXZH9V8lhbL5FJsXE0B5nFMRFFUg+NALTUzPmR61hJ3hVFCizpeP6JNKVVxmeBfcAFRRjzsGuzfsgrYCx3GwxGRjdnCmxiYYu2Y3XS75hTRbbGJaSmLkqX9HRDS+mGybnfRAUzJ9jqCuQgAIyRz78oOnCWNcoHTYgYThuOFeIVfCcZNGcxw9f7DhPFEWQGDBTYsJF4LPlHVl2v99ET2eW0AEjiucZ7rOoNXxn8a3McBxAjvhoiPYbXi1BotYwFzgKEERxzJaaaYk7VaRVfvxkcQzBps5sYljF9xs+N/QZXjd8YdgUiTAwZAgw+hT4nWvxAkM7wGOPZ5OtsXvoXA3QUkJ/EMcYGr4IwsnnBqAXmM/YqhoMm4FFo3qLUxbHXRqzLaoIFBuC1IINhpml9DeccXUFyozaZZbhzvyKChwwxfjuxNAwQRVDhv4ymC1E8QTjtDnANMOUEvpjUWEgcpwv4aBhqPh/xiI2upwnNsiILMIymDMMDQYCCyxmW9SX0B9Da5whYwwCiZMWX45LjuEHxNeJVM43ttllMCcDzQmBNAlQQeltswgzy0B0Wz0jMAzsQOwDTlpkga9A67FPjWLgBcCC8fqnz7p00QQRMTC2AyjWKt+7HwlGYsK/LvPWO03Eot/QY7gXdA9oseyjygTkApAUAh3WmKzjMMP8uRNmlKk2bi0qUTGZAYuVwxXB95gjG1dl2ft2EySV+K3Qhp3rslyNh6kiXGx4MPVLTQlMLNrDgRyBcaNhZlHpi8c3hj6L1+KAB6JAmQ1d154Jnd39yFRWKVwBbEbsMvxcBhNDS66usiY0NANTy2iFxR9IbxqHhoPYn0Tio7WrsycsBixkXG9zl+VHSbrjVksfGz9cBhPDDGBSSHIETyyjFcBp2xEBe5NyejvQAfwKnEs7W7Oh1RABT1k63FZZ719yl/pLYabP24HpocU8Q/X4Eo1WBE4DRCIns8dSjfHTFguLGpH4G9iO9F5gfGL4EhKnS2GmZCYiWgPDAoOuKVMyclbSzfYdbCISQ8DLFvsMUcGcQcNLSH3Y0aF9TaPky3mL5M4wPwDuKLP/sRgERu9jfQmJAdDzFocMtsgBe5DewAwf2t+cT47FGYuRMtgYFoQWUw1X0rOmUCsZsogLhU3/QN80urqzl4S2giuB80i7ZV99N02eNx7QD1xA1JcwY2AxKzQsMWhcefIxaDijgouIJFb2XERXr/wJbARGsK8UJi+IHw0PmeQ8KQ4DXOVW3Oz4BzcU6sPC/M50AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE3LTA3LTIwVDExOjUyOjEyKzAyOjAwRaXnswAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNy0wNy0yMFQxMTo1MjoxMiswMjowMDT4Xw8AAABXelRYdFJhdyBwcm9maWxlIHR5cGUgaXB0YwAAeJzj8gwIcVYoKMpPy8xJ5VIAAyMLLmMLEyMTS5MUAxMgRIA0w2QDI7NUIMvY1MjEzMQcxAfLgEigSi4A6hcRdPJCNZUAAAAASUVORK5CYII="/><link rel="icon" type="image/png" sizes="16x16" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACSVBMVEUAAACCWuloZuiBWul/W+lpZuhnZ+eAW+h7XehmZ+d+W+h4X+hqZuhkaOd1XuZ3X+hjaOd0YOhyYehlZ+dxYuhsZehjaedrZehcbOdsZOhabeeCWumCWulpZuhoZuiBWumAW+l+XOlpZuhoZudnZ+eAW+h/W+h9XOh6XuhqZuhoZudnZ+dmZ+d/W+h7Xeh5Xuh1YOhqZehpZudnZudkaOd9XOh4X+h3X+hwY+hpZuhoZudiaed8Xeh3X+hwY+hvY+htZOhrZehqZuhmZ+dgaudebOd8Xeh7Xeh2X+h1YOhvY+hqZedkaOdfa+ddbOd6Xuh5Xuh1YOh0YehuY+hsZOhpZudjaedda+dcbOd5Xuh4X+hyYuhuZOhtZOhrZehpZudoZuhhaudhaedbbOdabed4X+hyYehwYuhuZOhrZehjaediaedgaudabedYbud2X+hwYuhvY+hsZehqZehnZ+dlaOdjaediaedea+ddbOdXb+d1YOhvY+huZOhpZuhoZudmZ+dkaOdjaedtZehcbOdbbOdVb+d0YehyYuhvY+htZOhsZOhnZ+hkaOdjaediaudbbedabedXbudVb+dTcOdzYehxYuhvY+htZOhsZehjaedjaedabedZbudXb+dUcOdSceZ9XOhlaOd8Xeh6XuhmZ+dkaOd6Xeh4X+hiaed5XuhuY+hsZehjaedhaud3X+hqZedhaedfaud2YOhzYehgaudda+d2X+h0YOhea+dcbOd1YOhyYehabedYbudxYuhZbedXb+f///+g1V18AAAAoXRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBQYDL3UJDXolUfR9BgmK8kNz9nUECIP5ZJfEDgIs44i5gRuQnSoCnKoEGtX7UHiaYMkSNOr8VWr8imThKFb3mgMOZ3MYBqjyRn3+uFUHCV2//Gum+lZrom1vpGFj/pTN8jgFifv4fAJF+L3a7O3UIwuMggct2+zszSsrLCYFCAcHJywrKVc5MPMAAAABYktHRML9b77UAAAAB3RJTUUH4QcUCzQMwl4uYgAAAPNJREFUGNNjYEAHjNIyjDA2k6wcEwOzvIIiC4TPqqSswsbArqqmrsEB5mtqaetwMnDpLtTTN+BmYOAxNDJeZMLLwGe6eImZOb+FBaul1dJl1gIMijbLV9gK2tk7ODo5L1vp4srg5r7Kw1PIa/Uab2Gftet8/Rj8A9YHBokEh2wI5Q3buCk8giEyavOW6JjYuPiExKSt25JTGFK370hLz8gUFcvKztm5KzePIX/3noLCouKS0rLyisq9+6oYqrfsr6mtq29obGpuaT1wsI2hvaOzq1u8p7evX2LCxEmTpzBMnTZ9xkxJsVmzxaTmzJ03fwGG7wEGTEsbeOMldgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wNy0yMFQxMTo1MjoxMiswMjowMEWl57MAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDctMjBUMTE6NTI6MTIrMDI6MDA0+F8PAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,700,900" rel="stylesheet"/><style></style><link rel="preload" href="/page-component---src-templates-blog-post-js-fbe51bb1ddf0ca8888ab.js" as="script"/><link rel="preload" href="/path---2017-01-31-get-brownfield-react-native-app-built-on-demand-0040b6f4c170042f8c10.js" as="script"/><link rel="preload" href="/layout-component---index-c2e4c81486bee5b8891a.js" as="script"/><link rel="preload" href="/app-8206d81d918471c32ad7.js" as="script"/><link rel="preload" href="/commons-ad833e5a7e6945aa4a2d.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"15178676390636814000":"app-8206d81d918471c32ad7.js","1678234744854196000":"page-component---src-templates-home-js-3eed630374749f34e7c7.js","5567064509904683000":"page-component---src-templates-blog-post-js-fbe51bb1ddf0ca8888ab.js","8144742166368117000":"page-component---src-pages-404-js-1a3edab7b4c771e0b426.js","9347362237655822000":"path---index-0e69b574074ee4649d33.js","10307866041846470000":"path---2-d30fcf3af6d12fcff482.js","11991844440425177000":"path---3-c93df0bdb37cfe47afab.js","1603089222999017000":"path---4-baa88eea35114cb9a335.js","5362417080020119000":"path---5-a6092eb5a62d2fb1efa6.js","10555523231800414000":"path---6-b0f1f2a66df0161191d7.js","8859960338889796000":"path---7-98e1f2a830fc9ab0c598.js","8178086400888292000":"path---8-874c8ac7b6311b56ceb7.js","13989712874205137000":"path---9-477eb2d7f7e9483c60cc.js","91288599462261940":"path---10-00afb608f7edfb06ee7e.js","11495171164421010000":"path---11-e19ab68546bd15919961.js","7803672803511238000":"path---writing-post-guidelines-e22543165d666e32f5b9.js","17162649412951050000":"path---2017-06-01-migration-elasticsearch-61339f79b33972c117d3.js","6942278985948512000":"path---2017-05-17-spa-mode-isomorphism-js-57b972bb0426a1f80e21.js","9354334619318092000":"path---2017-04-03-sf-live-2017-23bd6baf271a65aefad5.js","9760925777106893000":"path---2017-03-30-prettier-308dad58a202b6e89983.js","14933806871023946000":"path---2017-02-20-retour-de-paris-video-tech-79db548f2d674d8bf6ed.js","6780503779859023000":"path---2017-01-31-get-brownfield-react-native-app-built-on-demand-0040b6f4c170042f8c10.js","7870469418328626000":"path---2016-11-24-une-donnee-presque-parfaite-71db1009ea58b8e2fd97.js","7020235368703346000":"path---2016-11-03-blendwebmix-6-play-conference-d5f58e356fbb705ca511.js","5287232330990470000":"path---2016-10-12-velocity-nyc-2016-e485c1402ebd6bb5b14e.js","853902435505480200":"path---2016-07-20-sf-2-security-checker-276fb5c46fba86ca0bde.js","5357077970108816000":"path---2016-07-04-rex-cassandra-f1e561149166be7c539e.js","10159286331934444000":"path---2016-07-04-migrate-smoothly-flux-isomorphic-app-to-redux-e4e8292ecfcecde17421.js","14004021262823037000":"path---2016-06-23-video-phptour-worker-php-af2df71535ceb9b20499.js","17562425498955082000":"path---2016-06-20-preview-android-ios-react-native-on-github-pull-request-0d769ee7c61946dc4897.js","12353118943198970000":"path---2016-05-25-m-6-web-retourdxp-cassandra-df56e802557c1ad2cb9f.js","4601375937037177000":"path---2016-05-19-6-tech-sfpot-lille-8a46b474b68688ce170c.js","5288667845965160000":"path---2016-05-09-6-tech-phptour-clermont-310b23487b364d2fc5c4.js","2052343472057445000":"path---2016-03-29-retro-agile-garde-a-vous-ac6f5ac7eda2efa6e942.js","11739317455098083000":"path---2016-01-26-m-6-web-lyon-recherche-developpeur-player-video-web-h-f-en-cdi-ddc6c176c243dca67449.js","6265468986860932000":"path---2016-01-25-tests-fonctionnels-app-js-2fdee6eb8713b53ae3d1.js","3233593281510953000":"path---2015-11-30-beta-nouveau-6-play-backend-9447c8d2d16b6cfde25d.js","10664539270748043000":"path---2015-11-06-m-6-web-dev-facts-9-be9c309ee44cc3f3177e.js","15409095257929464000":"path---2015-10-21-beta-nouveau-6-play-react-isomorphic-c1cfa6220171175e87fe.js","2028436677628524300":"path---2015-09-09-hooks-git-903fd00d09ff468ca4ad.js","14452569582683170000":"path---2015-07-10-cr-react-europe-2015-day-two-a3b160f7d2f1d1b82d08.js","8738486388747641000":"path---2015-07-06-cr-react-europe-2015-day-one-78f80b8b544d178bb319.js","3952169373383821300":"path---m-6-web-au-phptour-luxembourg-d4a31433a94542090673.js","14267055682789267000":"path---2015-05-07-m-6-web-dev-facts-8-dd669a9211ca6a258972.js","3229580628353207000":"path---2015-04-17-mixit-2015-jour-2-ad8cc2e15a6f87b367b1.js","7403774433838001000":"path---2015-04-16-mixit-2015-jour-1-e301f38733d29a7e574b.js","15847801484041351000":"path---2015-04-01-immutablejs-relay-graphql-react-native-019e6aaf21df1e44e25b.js","16776760198476497000":"path---comment-a-t-on-bouchonne-les-developpeurs-backend-df2fa71883ed7dc35716.js","17286940000189432000":"path---how-did-we-mock-the-backend-developers-d3cc34671766b7d50252.js","10749462381486705000":"path---lft-cassandra-f1e13dc5ad99fa7055a4.js","7332436263870423000":"path---2015-02-10-cr-react-conf-2015-day-two-80ec031d927f4b3e955b.js","16087329104712847000":"path---2015-02-04-cr-react-conf-2015-day-one-5035cc14c373f74045cc.js","15701269989589799000":"path---2014-12-04-isomorphic-single-page-app-parfaite-react-flux-3be1892bf37d3adccbd3.js","16451773729229097000":"path---velocity-europe-2014-day-3-2880c4cb3f3b3f89b178.js","6056515083553241000":"path---velocity-europe-2014-day-2-accc8122a3be0c9c83b3.js","12743668555603100000":"path---velocity-europe-2014-day-1-e7f2c1d7a15d93539da6.js","9503839093359790000":"path---symfony-expression-language-b1ee7cccc749bc4a0d63.js","8546450019714081000":"path---2014-11-13-m-6-web-dev-facts-7-23e9a5f523e5bfc6bfa0.js","7827921171204730000":"path---retour-sur-le-forumphp-2014-29f174465d3c55852380.js","11772264456669016000":"path---github-team-reviewer-pull-requests-501d57d51a8499d9cc51.js","10114230876444041000":"path---surcharger-un-provider-angular-333bd1995a54eaffd923.js","13509551332287162000":"path---2014-09-30-ameliorer-la-webperf-de-son-application-js-avec-gruntjs-4962946482eff063aac3.js","17404885850284728000":"path---tests-e-2-e-application-angularjs-protractor-b0dbbd90dabf67ca5197.js","1094807860966670500":"path---2014-08-05-verifier-la-coherence-du-code-d-un-projet-symfony-2-avec-coke-cedf4497c897bb2fb194.js","17754514445434400000":"path---2014-06-25-m-6-web-etait-au-phptour-lyon-2014-4ae637fde5d427d8e4dc.js","5177862320755282000":"path---2014-05-15-m-6-web-sera-present-au-phptour-lyon-2014-f58fe9f8acf66e4b3bb4.js","2301011844095907000":"path---2014-04-23-babitch-the-story-behind-our-table-soccer-web-application-02b6fcfe4658260cfd72.js","15593514085760563000":"path---2014-04-11-m-6-web-lyon-recherche-un-lead-developpeur-architecte-web-h-f-en-cdi-515072b02a3e06d70aec.js","7332428723097102000":"path---2014-04-10-sf-live-2014-symfony-a-la-tele-3faf43a3969b5ea9157a.js","7733466120289764000":"path---2014-03-04-utilisation-du-statsdbundle-avec-la-console-0c546b3503199875b9f0.js","5729145014323964000":"path---2014-02-18-refonte-de-notre-systeme-de-vote-84989e02db6088f15cf3.js","2552669174671822000":"path---2014-01-28-how-we-use-statsd-24b733be76ac9deedb2a.js","12589857351633986000":"path---2014-01-20-m-6-web-dev-facts-6-01729346ebcf23241fc9.js","11910221005920872000":"path---2014-01-18-vagrant-julien-bianchi-e9dd5b5dc69ffc3e5c00.js","13689007030920464000":"path---2014-01-08-api-a-consommer-avec-moderation-f806e0bab82ab33b916b.js","10935238532326365000":"path---vis-ma-vie-sysadmin-forumphp-66ba8d72c068ddbab5fd.js","5485711701974236000":"path---redismock-qui-a-bouchonne-mon-redis-54efa27efd9c49b7b727.js","13928220128757432000":"path---composer-installation-without-github-8d9dfc452d4b6f3d538d.js","16201139586168523000":"path---jenkinslight-mettez-en-lumiere-vos-jobs-jenkins-21e5eff77cea3a9e0571.js","12434156185772188000":"path---velocity-europe-2013-day-3-1704d69baa136a0e6836.js","4865699463020770000":"path---velocity-europe-2013-day-2-959282e1f4dcb8c21e9b.js","9234615935232280000":"path---velocity-europe-2013-day-1-5c3bf0b5af53409a774c.js","8046552783351314000":"path---tester-fonctionnellement-une-api-rest-symfony-doctrine-atoum-6c52378df4195317f394.js","14334248029160552000":"path---distribuez-votre-video-partout-avec-3-euros-en-poche-et-devenez-millionaire-ou-presque-470e5cc57462c8dcff76.js","10570010181968095000":"path---le-nosql-focus-sur-mongodb-par-cedric-derue-altran-d83eb0929e36ab6c58e8.js","11796148760232034000":"path---vigo-le-fleau-des-carpates-la-tristesse-de-moldavie-0bfb3f1047c40fe48f51.js","11120030273723666000":"path---introduction-qualite-logicielle-avec-node-js-182855aa77c58ac15a47.js","8604288729304566000":"path---introduction-a-drupal-par-claire-roubey-clever-age-a0689728367b829704b9.js","15903444466819471000":"path---lache-moi-la-branch-08157f71d66620fafcc2.js","10071173443366248000":"path---m-6-web-dev-facts-5-1a9462c168fc1ae43744.js","13209462253208130000":"path---benchmarking-websockets-avec-nodejs-eed5ea314c6215f40d89.js","15884576102335875000":"path---performances-web-disaster-case-applications-mobile-native-38e8213804d007b57775.js","10823624351499060000":"path---coke-pour-bien-sniffer-son-code-0000c99936c591ee6d18.js","17544186680005968000":"path---encodage-packaging-drm-tout-sur-la-video-34743dc6a157bec678dc.js","16915654042232957000":"path---m-6-web-dev-facts-4-0aebe81b8a00f7b446c4.js","14959254526500108000":"path---firewall-applicatif-php-et-bundle-symfony-7760d249d1f597eb1918.js","14874237888928637000":"path---m-6-web-dev-facts-3-01e70a08d507adf67433.js","14946238800479066000":"path---redis-on-fire-07b6700a886dd3d26855.js","14839077316297011000":"path---cr-conference-agora-cms-du-15-mai-2013-806e80a435ad4b4dadb5.js","5703749313299627000":"path---la-poo-canada-dry-cfbc25b1ff75b7afb9fe.js","6586192456415092000":"path---cr-real-time-conference-europe-2013-day-2-ad5554c176aaff9eaa3a.js","11454168689866953000":"path---cr-real-time-conference-europe-2013-day-1-6c195940dd7a2ebe66ff.js","17785082780749552000":"path---m-6-web-dev-facts-2-c7ff953d5036e4340bb5.js","14821051442942687000":"path---m-6-web-dev-facts-1-28a594ac8974b6467881.js","11892591640059814000":"path---m-6-web-lyon-recherche-un-lead-developpeur-architecte-web-h-f-en-cdi-10caeb1add770e2139eb.js","13740870568820118000":"path---organiser-des-conferences-technique-en-interne-95b4f3c3e79b1a49ce94.js","8375679014523352000":"path---m-6-web-au-banquet-de-la-cuisine-du-web-b101036a14ed6c8547dc.js","16568272801780832000":"path---cr-velocity-conference-europe-2012-day-3-d7f1f6faf69b82f4a1bf.js","1078884578585256000":"path---cr-velocity-conference-europe-2012-day-2-0c0647eaae962357ab0a.js","18227064928437770000":"path---cr-velocity-conference-europe-2012-day-1-a61c16de010075f9cb9e.js","2219810676468073500":"path---tentative-d-explication-des-fast-forward-sous-git-530810482196b4b8a89b.js","18164559839002060000":"path---integration-continue-avec-jenkins-et-atoum-af28bfe626eaa1601e6a.js","16767439749070496000":"path---retrouvez-l-intervention-du-cto-de-m-6-web-martin-boronski-a-la-table-ronde-du-forum-php-2012-ee18bd7da8c3889ea6eb.js","954585506351283100":"path---cr-velocity-conference-2012-day-2-devops-webperf-5d00a7cc7dfeb45da1c8.js","6911463883558992000":"path---cr-velocity-conference-2012-day-3-devops-webperf-2cca445c736b2f3b9e8c.js","1278340647346106000":"path---cr-velocity-conference-day-1-dev-webperf-be7936e6bde6e8fda40f.js","924823853440382100":"path---monitoring-applicatif-pourquoi-et-comment-de705ba1a1d74bfba9b5.js","6387841063590224000":"path---m-6-web-au-web-event-lyon-4-1731a7cbbb23f3371f31.js","5225245647109938000":"path---m-6-web-tait-pr-sent-au-forum-php-2012-88abf8e4faefdcf6b5df.js","10860509107199780000":"path---m-6-web-au-forum-php-2012-et-au-webevent-4-de1c730e829885a4fe85.js","7917467032229999000":"path---performances-php-chez-m-6-web-de8fdb90e7117dda55c4.js","11151541960945994000":"path---lancement-du-blog-technique-dm-6-web-7ca8fb16a1fa4330deae.js","16647598582412890000":"path---404-a0e39f21c11f6a62c5ab.js","11711201792954765000":"path---404-html-a0e39f21c11f6a62c5ab.js","17241999800008180000":"layout-component---index-c2e4c81486bee5b8891a.js"}
            //]]>
            </script><style type="text/css" data-styled-components="dkIpzS rBGBU hYMHAj jtLPJk dAKnmY gEytPc hMHxoy jfmLrS gknBRj ezhwLl dTiqmK gyAwmV eEqPQk dkFleX kndpkt ggLcPy gAAzOx bTjqEk gbenQb blLsxQ cGEAUG cBZpCn kDNhcm kdityM hxWvo uVVjM fKsidO" data-styled-components-is-local="true">/* sc-component-id: sc-bdVaJa */

.fKsidO{-webkit-transition:color .2s;transition:color .2s;cursor:pointer;color:inherit;border-bottom:dashed 1px;}.fKsidO:hover{color:#3763df;}
/* sc-component-id: sc-gZMcBi */

.dAKnmY{max-width:1094px;margin:0 auto;padding:0 35px;}
/* sc-component-id: sc-VigVT */

.eEqPQk{color:#434343;font-size:19px;line-height:1.8;}
/* sc-component-id: sc-jzJRlG */

.dkFleX{max-width:750px;margin:0 calc(8% + 35px) 35px auto !important;}
/* sc-component-id: sc-kAzzGY */

.cBZpCn{max-width:750px;margin:0 calc(8% + 35px) 35px auto !important;font-size:16px;}
/* sc-component-id: sc-kgoBCf */

.blLsxQ{max-width:750px;margin:0 calc(8% + 35px) 35px auto !important;font-weight:400;font-size:2.2em;line-height:1.2;margin:75px 0 50px 0;}
/* sc-component-id: sc-kpOJdX */

.cGEAUG{max-width:750px;margin:0 calc(8% + 35px) 35px auto !important;font-weight:700;font-size:1.8em;line-height:1.2;margin:55px 0 35px 0;}
/* sc-component-id: sc-ckVGcZ */

.kDNhcm{max-width:750px;margin:0 calc(8% + 35px) 35px auto !important;font-weight:400;font-size:1.5em;line-height:1.2;font-style:italic;margin:45px 0 25px 0;}
/* sc-component-id: sc-hSdWYo */

.kndpkt{-webkit-transition:color .2s;transition:color .2s;cursor:pointer;color:inherit;border-bottom:dashed 1px;word-wrap:break-word;}.kndpkt:hover{color:#3763df;}
/* sc-component-id: sc-cvbbAY */

.bTjqEk{font-weight:bold;}
/* sc-component-id: sc-jWBwVP */

.gbenQb{font-family:monospace;background:#eee;padding:2px 5px;border-radius:2px;}
/* sc-component-id: sc-cMljjf */

.ggLcPy{max-width:750px;margin:0 calc(8% + 35px) 35px auto !important;}.ggLcPy ul{margin:0 !important;}
/* sc-component-id: sc-jAaTju */

.gAAzOx{list-style:initial;margin-left:35px;}
/* sc-component-id: sc-jlyJG */

.kdityM{max-width:900px;margin:0 0 35px auto !important;}
/* sc-component-id: sc-gipzik */

.hxWvo{display:block;max-width:100%;margin:0 auto;}
/* sc-component-id: sc-fMiknA */

.gEytPc{position:relative;background:#a3bbf3 no-repeat center;background-color:#4776E6;background-image:-webkit-linear-gradient( 225deg, #4776E6, #8E54E9);background-image:-moz-linear-gradient( 225deg, #4776E6,, #8E54E9);background-image:-o-linear-gradient( 225deg, #4776E6,, #8E54E9);background-image:linear-gradient( 225deg, #4776E6, #8E54E9);background-size:cover;margin-bottom:50px;background-image:url(/static/1ab064e47a284647f7b34d290839118b-338bd.jpg);}.gEytPc:before{content:"";display:block;padding-bottom:60%;}
/* sc-component-id: sc-dVhcbM */

.hMHxoy{position:absolute;font-weight:700;font-size:70px;top:0;left:0;bottom:50px;color:white;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}
/* sc-component-id: sc-eqIVtm */

.jfmLrS{line-height:110px;margin:8px 0 0;width:auto;line-height:1.2em;}.jfmLrS > span{background:#8e54e9;padding:0 2px;display:inline-block;}

.gknBRj{line-height:110px;margin:8px 0 0;width:auto;line-height:1.2em;}.gknBRj > span{background:#7c5feb;padding:0 2px;display:inline-block;}

.ezhwLl{line-height:110px;margin:8px 0 0;width:auto;line-height:1.2em;}.ezhwLl > span{background:#6968eb;padding:0 2px;display:inline-block;}

.dTiqmK{line-height:110px;margin:8px 0 0;width:auto;line-height:1.2em;}.dTiqmK > span{background:#5870e9;padding:0 2px;display:inline-block;}
/* sc-component-id: sc-caSCKo */

/* sc-component-id: sc-gisBJw */

.dkIpzS{height:4px;background-color:#4776E6;background-image:-webkit-linear-gradient( 225deg, #4776E6, #8E54E9);background-image:-moz-linear-gradient( 225deg, #4776E6,, #8E54E9);background-image:-o-linear-gradient( 225deg, #4776E6,, #8E54E9);background-image:linear-gradient( 225deg, #4776E6, #8E54E9);}
/* sc-component-id: sc-kjoXOD */

.rBGBU{height:140px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;max-width:1280px;margin:0 0 50px;padding:0 50px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: sc-cHGsZl */

.hYMHAj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:35px;}
/* sc-component-id: sc-TOsTZ */

.jtLPJk{font-weight:900;font-size:30px;color:#d6d6d6;margin:0 4px;cursor:pointer;position:relative;}.jtLPJk:hover{color:#ccc;}.jtLPJk:hover:after{width:100%;margin-left:0;}.jtLPJk:after{content:"";position:absolute;left:0;bottom:-5px;height:2px;background-color:#4776E6;background-image:-webkit-linear-gradient( 225deg, #4776E6, #8E54E9);background-image:-moz-linear-gradient( 225deg, #4776E6,, #8E54E9);background-image:-o-linear-gradient( 225deg, #4776E6,, #8E54E9);background-image:linear-gradient( 225deg, #4776E6, #8E54E9);width:0;margin-left:50%;-webkit-transition:width 0.2s,margin 0.2s;transition:width 0.2s,margin 0.2s;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;}
/* sc-component-id: sc-kgAjT */

.uVVjM{margin-top:100px;border-top:#bbb solid 1px;padding:35px 0;color:#bbb;}
</style><title data-react-helmet="true">Get your brownfield React Native app built on demand</title><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-ad833e5a7e6945aa4a2d.js","/app-8206d81d918471c32ad7.js","/layout-component---index-c2e4c81486bee5b8891a.js","/path---2017-01-31-get-brownfield-react-native-app-built-on-demand-0040b6f4c170042f8c10.js","/page-component---src-templates-blog-post-js-fbe51bb1ddf0ca8888ab.js"
])
  </script></head><body><div id="___gatsby"><div style="margin-bottom:50px;" data-reactroot="" data-reactid="1" data-react-checksum="-741695278"><!-- react-empty: 2 --><div data-reactid="3"><div class="sc-gisBJw dkIpzS" data-reactid="4"></div><div class="sc-kjoXOD rBGBU" data-reactid="5"><a href="/" data-reactid="6"><svg width="195" height="70" viewBox="0 0 195 70" version="1.1" xmlns="http://www.w3.org/2000/svg" data-reactid="7"><defs data-reactid="8"><linearGradient id="gradient" x1="0" y1="50%" x2="100%" y2="50%" data-reactid="9"><stop stop-color="#b087f0" offset="0%" data-reactid="10"></stop><stop stop-color="#7b43e3" offset="100%" data-reactid="11"></stop></linearGradient></defs><g data-reactid="12"><g fill="url(#gradient)" data-reactid="13"><path d="M85.8875934,0 L96.305908,0 L99.8023075,18.5330433 L104.921276,0 L114.605463,0 L119.735583,18.508649 L123.23965,0 L132.905367,0 L125.606942,33.106544 L115.576704,33.106544 L109.76912,12.2626639 L103.983838,33.106544 L92.2830622,33.106544 L86.9300674,0 L85.8875934,2.07983834e-17 Z M93.0742848,38 L112.039476,38 L112.039476,43.2252503 L105.370811,43.2252503 L105.370811,59.1611722 L98.832009,59.1611722 L98.832009,43.2252503 L93.9191551,43.2252503 L93.0742848,38 Z M113.086826,38 L130.610504,38 L130.610504,42.5180216 L119.64033,42.5180216 L119.64033,45.8813115 L129.816626,45.8813115 L129.816626,50.1972996 L119.64033,50.1972996 L119.64033,54.3689463 L130.928145,54.3689463 L130.928145,59.1611722 L113.086826,59.1611722 L113.086826,38 Z M145.350596,50.4369778 L150.89215,52.1120516 C150.519937,53.6661726 149.933661,54.9643548 149.133323,56.0063755 C148.333208,57.0488417 147.339747,57.8349235 146.153384,58.3655121 C144.9668,58.8958779 143.457006,59.1611722 141.62378,59.1611722 C139.399629,59.1611722 137.582664,58.8377403 136.172885,58.1922132 C134.763105,57.5453496 133.546449,56.409106 132.522694,54.7817005 C131.498939,53.154295 130.987506,51.0709219 130.987506,48.5315813 C130.987506,45.1466847 131.887859,42.5458653 133.68834,40.72645 C135.489045,38.9097077 138.036404,38 141.330642,38 C143.908295,38 145.934645,38.5210103 147.409467,39.5632537 C148.884512,40.6054972 149.980215,42.2061728 150.696799,44.3650578 L145.113591,45.60733 C144.918017,44.9838551 144.713311,44.5278875 144.499249,44.2394273 C144.145523,43.7553933 143.712722,43.3831794 143.201067,43.1227857 C142.689412,42.8621691 142.116946,42.7318608 141.484339,42.7318608 C140.051171,42.7318608 138.953017,43.309004 138.190101,44.4603945 C137.612958,45.3166423 137.324498,46.6589289 137.324498,48.4897044 C137.324498,50.7579593 137.668868,52.3120804 138.357386,53.1531813 C139.045904,53.9940594 140.013971,54.4152781 141.260921,54.4152781 C142.470449,54.4152781 143.384835,54.0755856 144.003632,53.3962006 C144.622429,52.7168156 145.071492,51.7304822 145.350596,50.4369778 Z M151.911211,38 L158.450013,38 L158.450013,45.4050738 L165.595362,45.4050738 L165.595362,38 L172.163121,38 L172.163121,59.1611722 L165.595362,59.1611722 L165.595362,50.6013666 L158.450013,50.6013666 L158.450013,59.1611722 L151.911211,59.1611722 L151.911211,38 Z M134.703032,0 L162.118735,0 L162.118735,7.06842139 L144.955954,7.06842139 L144.955954,12.3302709 L160.876717,12.3302709 L160.876717,19.082612 L144.955954,19.082612 L144.955954,25.6091315 L162.615682,25.6091315 L162.615682,33.106544 L134.703032,33.106544 L134.703032,0 Z M164.245612,0.000139395975 L183.395831,0.000139395975 C186.587302,0.000139395975 189.037535,0.790514573 190.746529,2.37126493 C192.455175,3.95201528 193.309673,5.90913476 193.309673,8.24262338 C193.309673,10.2000914 192.699815,11.8787674 191.480449,13.2786515 C190.667422,14.212256 189.478026,14.9500092 187.912261,15.491911 C190.291053,16.0641315 192.041169,17.0465247 193.16261,18.4390904 C194.284399,19.8316562 194.845119,21.5817727 194.845119,23.6894398 C194.845119,25.4057528 194.446447,26.9488662 193.648405,28.3187801 C192.850363,29.6890426 191.758893,30.7728463 190.373645,31.5708882 C189.515663,32.0678349 188.221023,32.429219 186.489725,32.6550404 C184.185858,32.9557872 182.658078,33.1066834 181.90534,33.1066834 L164.245612,33.1066834 L164.245612,0.000139395975 Z M174.565793,25.9929583 L179.782687,25.9929583 C181.543607,25.9929583 182.785974,25.6807113 183.508742,25.0558689 C184.231161,24.4310264 184.592545,23.5915142 184.592545,22.5376806 C184.592545,21.5591208 184.234995,20.7725791 183.519893,20.1777067 C182.804792,19.5831829 181.551622,19.2855725 179.759687,19.2855725 L174.565793,19.2855725 L174.565793,25.9929583 Z M174.565793,12.9852229 L179.014616,12.9852229 C180.610699,12.9852229 181.72064,12.7102644 182.345482,12.1610442 C182.970325,11.6114756 183.28292,10.817267 183.28292,9.77841853 C183.28292,8.81484386 182.970325,8.06210559 182.345482,7.52020374 C181.72064,6.97830189 180.633003,6.70717672 179.082571,6.70717672 L174.565793,6.70717672 L174.565793,12.9852229 Z M29.03915,18.5262348 C26.3319,24.1748848 24.2522,30.0636348 24.3782,34.6566848 C24.3782,46.3893848 33.9675,55.9002848 45.7961,55.9002848 C57.6247,55.9002848 67.214,46.3893848 67.214,34.6566848 C67.214,28.9331348 64.932,23.7384348 61.22095,19.9188848 L80.27355,3.48258707e-05 L91.5922,70.0000348 L68.78095,70.0000348 L66.16925,48.4078348 L45.7961,70.0000348 L25.42295,48.4078348 L22.81125,70.0000348 L0,70.0000348 L11.31865,3.48258707e-05 L29.03915,18.5262348 Z M45.5682587,43.8405821 C40.3530846,43.8405821 36.1255721,39.6127214 36.1255721,34.3975473 C36.1255721,29.1823731 40.3530846,24.9548607 45.5682587,24.9548607 C50.7834328,24.9548607 55.0109453,29.1823731 55.0109453,34.3975473 C55.0109453,39.6127214 50.7834328,43.8405821 45.5682587,43.8405821 Z" data-reactid="14"></path></g></g></svg></a><div class="sc-cHGsZl hYMHAj" data-reactid="15"><a href="/" data-reactid="16"><div class="sc-TOsTZ jtLPJk" data-reactid="17">HOME</div></a><div class="sc-TOsTZ jtLPJk" data-reactid="18">ABOUT</div><div class="sc-TOsTZ jtLPJk" data-reactid="19">JOBS</div><div class="sc-TOsTZ jtLPJk" data-reactid="20">OSS</div></div></div></div><div class="sc-gZMcBi dAKnmY" data-reactid="21"><!-- react-empty: 22 --><div class="sc-fMiknA gEytPc" src="/static/1ab064e47a284647f7b34d290839118b-338bd.jpg" data-reactid="23"><h1 class="sc-dVhcbM hMHxoy" data-reactid="24"><span class="sc-eqIVtm jfmLrS" color="#8e54e9" data-reactid="25"><span data-reactid="26">Get your</span></span><span class="sc-eqIVtm gknBRj" color="#7c5feb" data-reactid="27"><span data-reactid="28">brownfield React</span></span><span class="sc-eqIVtm ezhwLl" color="#6968eb" data-reactid="29"><span data-reactid="30">Native app built</span></span><span class="sc-eqIVtm dTiqmK" color="#5870e9" data-reactid="31"><span data-reactid="32">on demand</span></span></h1></div><div class="sc-caSCKo gyAwmV" data-reactid="33"><div class="sc-VigVT eEqPQk" data-reactid="34"><p class="sc-jzJRlG dkFleX" data-reactid="35"><!-- react-text: 36 -->As you may know, at M6Web we decided to embrace <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="http://facebook.github.io/react-native/" data-reactid="37"><!-- react-text: 38 -->React Native<!-- /react-text --></a><!-- react-text: 39 --> a few months ago.
It‚Äôs a really exciting piece of software that adds a lot of value in the mobile development ecosystem.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="40"><!-- react-text: 41 -->We already use it for a side project on a standalone app (not public yet, stay tuned!) to record table soccer games, that‚Äôs why, we (mostly <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="https://twitter.com/ncuillery" data-reactid="42"><!-- react-text: 43 -->@ncuillery<!-- /react-text --></a><!-- react-text: 44 --> üòè) decided to improve the upgrade process for apps made with the embedded generator. See Nicolas‚Äô blog post on it: <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="http://facebook.github.io/react-native/blog/2016/12/05/easier-upgrades.html" data-reactid="45"><!-- react-text: 46 -->Easier Upgrades with React Native<!-- /react-text --></a><!-- react-text: 47 -->.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="48"><!-- react-text: 49 -->As a result, we wanted to start using React Native for our most popular app: 6Play (<!-- /react-text --><a class="sc-hSdWYo kndpkt" href="https://itunes.apple.com/app/6play/id369692259?mt=8" data-reactid="50"><!-- react-text: 51 -->6play iOS<!-- /react-text --></a><!-- react-text: 52 -->, <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="https://play.google.com/store/apps/details?id=fr.m6.m6replay" data-reactid="53"><!-- react-text: 54 -->6play Android<!-- /react-text --></a><!-- react-text: 55 -->).
So they would become what <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="http://facebook.github.io/react-native/blog/2016/08/12/react-native-meetup-san-francisco.html#bridging-the-gap-using-react-native-in-existing-codebases" data-reactid="56"><!-- react-text: 57 -->Leland Richardson from Airbnb calls &quot;brownfield&quot; apps<!-- /react-text --></a><!-- react-text: 58 -->.
6play is the <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="https://en.wikipedia.org/wiki/Video_on_demand#Catch-up_TV" data-reactid="59"><!-- react-text: 60 -->catchup TV<!-- /react-text --></a><!-- react-text: 61 --> platform for the French TV group M6. It offers live-streaming and full episodes for web, mobile and set-top box. Since the apps launched in 2016, there have been over 1.5 billion videos streamed. Our iOS (mostly Swift) and Android native applications, both important parts of the 6play platform, were exclusively developed externally until now.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="62"><!-- react-text: 63 -->We wanted to use React Native to develop this project in-house and to take advantage of the benefits this hybrid technology could bring into our native apps. Here are just some of the benefits we found when using React Native:<!-- /react-text --></p><ul class="sc-cMljjf ggLcPy" data-reactid="64"><li class="sc-jAaTju gAAzOx" data-reactid="65"><strong class="sc-cvbbAY bTjqEk" data-reactid="66"><!-- react-text: 67 -->JavaScript development for mobile<!-- /react-text --></strong><!-- react-text: 68 -->. We have a lot of awesome JavaScript developers internally who develop the <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="http://www.6play.fr/" data-reactid="69"><!-- react-text: 70 -->6play website<!-- /react-text --></a><!-- react-text: 71 --> using React. We love React &amp; Redux and want to mutualize this piece of technology we use on most of the frontends of the 6play platform.<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="72"><strong class="sc-cvbbAY bTjqEk" data-reactid="73"><!-- react-text: 74 -->Hot fixing with <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="https://microsoft.github.io/code-push/" data-reactid="75"><!-- react-text: 76 -->CodePush<!-- /react-text --></a></strong><!-- react-text: 77 -->. For our mobile apps, we want to accomplish the same continuous delivery process we have for the website. CodePush helps us to keep the same flexibility by allowing us to make deployments on a weekly or even daily basis.<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="78"><strong class="sc-cvbbAY bTjqEk" data-reactid="79"><!-- react-text: 80 -->Knowledge sharing<!-- /react-text --></strong><!-- react-text: 81 -->. We would like to be closer to the external development of our mobile apps, which was difficult without native knowledge and without any Android or Swift internal developers. React Native allows us to be part of that, we started working closely with the native team, sharing all developments between the two teams and bringing the best of both worlds (native and web) into the same project.<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="82"><strong class="sc-cvbbAY bTjqEk" data-reactid="83"><!-- react-text: 84 -->Code Sharing<!-- /react-text --></strong><!-- react-text: 85 -->. We also want to share major parts of the mobile code base between apps (Android &amp; iOS). Today, the code bases for each app are completely separate and are managed by two separate teams. With React Native, we could have one common code base while being able to implement specificities for a particular platform if needed. We have also imagined some ways to share code with the 6play website.<!-- /react-text --></li></ul><p class="sc-jzJRlG dkFleX" data-reactid="86"><!-- react-text: 87 -->As we mentioned in a previous <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="http://tech.m6web.fr/preview-android-ios-react-native-on-github-pull-request/" data-reactid="88"><!-- react-text: 89 -->blog post<!-- /react-text --></a><!-- react-text: 90 -->, we use Github pull requests extensively in our development process, especially for testing (automatically and manually) each new commits before merging them into the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="91">master</code><!-- react-text: 92 --> branch.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="93"><!-- react-text: 94 -->In the past, we tried to use <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="https://appetize.io/" data-reactid="95"><!-- react-text: 96 -->Appetize<!-- /react-text --></a><!-- react-text: 97 --> to preview  our apps in the browser. It was a first shot, but the functionality was quite limited: animations felt janky, some features wouldn‚Äôt work (in-app purchase, video with DRM, ‚Ä¶), user identification was painful. We needed a better solution, and as a result we decided to rethink the way we develop the 6play apps.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="98"><!-- react-text: 99 -->For the second iteration of our development process, we had a few simple requirements:<!-- /react-text --></p><ul class="sc-cMljjf ggLcPy" data-reactid="100"><li class="sc-jAaTju gAAzOx" data-reactid="101"><!-- react-text: 102 -->Test each pull request in conditions as close to the reality as possible,<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="103"><!-- react-text: 104 -->Use the same testing workflow for both iOS and Android apps.<!-- /react-text --></li></ul><p class="sc-jzJRlG dkFleX" data-reactid="105"><!-- react-text: 106 -->This post outlines our new mobile development process for the 6play apps. We‚Äôll walk through how we manage the environment of a brownfield React Native app, our Git repository structure, our build and release workflows, and how we‚Äôve created a CI environment that mirrors our production environment.<!-- /react-text --></p><h1 class="sc-kgoBCf blLsxQ" data-reactid="107"><!-- react-text: 108 -->Mono Repository / Multi Repositories?<!-- /react-text --></h1><p class="sc-jzJRlG dkFleX" data-reactid="109"><!-- react-text: 110 -->The first thing we had to do, was to decide how we wanted to organize our Git repositories.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="111"><!-- react-text: 112 -->For this, we looked into how <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="https://youtu.be/tUfgQtmG3R0?t=109" data-reactid="113"><!-- react-text: 114 -->the AirBnb team work with their brownfield app<!-- /react-text --></a><!-- react-text: 115 -->.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="116"><!-- react-text: 117 -->We soon realized we had two options here:<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="118"><strong class="sc-cvbbAY bTjqEk" data-reactid="119"><!-- react-text: 120 -->Multi-repositories<!-- /react-text --></strong><!-- react-text: 121 -->:<!-- /react-text --></p><ul class="sc-cMljjf ggLcPy" data-reactid="122"><li class="sc-jAaTju gAAzOx" data-reactid="123"><!-- react-text: 124 -->the iOS one<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="125"><!-- react-text: 126 -->the Android one<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="127"><!-- react-text: 128 -->and one for React Native code<!-- /react-text --></li></ul><p class="sc-jzJRlG dkFleX" data-reactid="129"><strong class="sc-cvbbAY bTjqEk" data-reactid="130"><!-- react-text: 131 -->Mono-repository<!-- /react-text --></strong><!-- react-text: 132 -->:<!-- /react-text --></p><ul class="sc-cMljjf ggLcPy" data-reactid="133"><li class="sc-jAaTju gAAzOx" data-reactid="134"><!-- react-text: 135 -->One giant repository that has iOS, Android, and React Native folders inside.<!-- /react-text --></li></ul><p class="sc-jzJRlG dkFleX" data-reactid="136"><!-- react-text: 137 -->Let‚Äôs take a look at the pros and cons of both solutions.<!-- /react-text --></p><h2 class="sc-kpOJdX cGEAUG" data-reactid="138"><!-- react-text: 139 -->The Mono Repository<!-- /react-text --></h2><pre class="language-null sc-kAzzGY cBZpCn" data-reactid="140"><code class="language-null" data-reactid="141">‚îú‚îÄ‚îÄ app-6play/
‚îÇ   ‚îú‚îÄ‚îÄ app-android/
‚îÇ   ‚îú‚îÄ‚îÄ app-ios/
‚îÇ   ‚îú‚îÄ‚îÄ react-native-views/</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="142"><!-- react-text: 143 -->At first glance, this solution seems like the Holy Grail:<!-- /react-text --></p><ul class="sc-cMljjf ggLcPy" data-reactid="144"><li class="sc-jAaTju gAAzOx" data-reactid="145"><!-- react-text: 146 -->(+) Everything is in the same place<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="147"><!-- react-text: 148 -->(+) If a modification needs both native &amp; React Native developments, changes can be contained in a unique pull request.<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="149"><!-- react-text: 150 -->(-) Code, Documentation, Setup, are more difficult at the beginning (For example, how can we keep Git history of each existing repository?).<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="151"><!-- react-text: 152 -->(-) For our workflow, we need to have everyone working the same way, with the same git workflow, and the same review process. Remember that our native team is an external team (in Belgium), the Android &amp; iOS teams are two different teams (located in the same place) and the React Native one is an internal team (in France). If we succeed, we‚Äôll have synchronous development between teams, this is a really positive point, but it may be difficult to reach.<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="153"><!-- react-text: 154 -->(-) Android, iOS and Javascript CI environments are very different (different tools, different needs), so it is really complex to setup.<!-- /react-text --></li></ul><p class="sc-jzJRlG dkFleX" data-reactid="155"><!-- react-text: 156 -->Ultimately, the initial cost of setup and maintenance outweighed the benefits of a mono-repository.<!-- /react-text --></p><h2 class="sc-kpOJdX cGEAUG" data-reactid="157"><!-- react-text: 158 -->The Multi Repositories<!-- /react-text --></h2><pre class="language-null sc-kAzzGY cBZpCn" data-reactid="159"><code class="language-null" data-reactid="160">‚îú‚îÄ‚îÄ app-android/
‚îú‚îÄ‚îÄ app-ios/
‚îú‚îÄ‚îÄ react-native-views/</code></pre><ul class="sc-cMljjf ggLcPy" data-reactid="161"><li class="sc-jAaTju gAAzOx" data-reactid="162"><!-- react-text: 163 -->(+) Each team could have its own Git workflow, branching model, review process,<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="164"><!-- react-text: 165 -->(+) Each platform has its own CI, code conventions,<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="166"><!-- react-text: 167 -->(-) Building the native apps including the React Native bundle is complicated,<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="168"><!-- react-text: 169 -->(-) Three pull requests (one on each repository) are needed if the functionality includes a native bridge and React Native development.<!-- /react-text --></li></ul><p class="sc-jzJRlG dkFleX" data-reactid="170"><!-- react-text: 171 -->Neither approach was perfect. So we decided to choose the safest one, and create multiple repositories. Also, this choice doesn‚Äôt forbid any change of direction toward the mono repository in the future... The reverse seems much more complicated.<!-- /react-text --></p><h1 class="sc-kgoBCf blLsxQ" data-reactid="172"><!-- react-text: 173 -->Development workflow<!-- /react-text --></h1><p class="sc-jzJRlG dkFleX" data-reactid="174"><!-- react-text: 175 -->Each native developer is now forced to have the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="176">react-native-views</code><!-- react-text: 177 --> to be able to work on the native app.
You need to know that the native apps need <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="178">node_modules</code><!-- react-text: 179 --> dependencies of the React Native project, because they also contain the native part of React Native, and maybe some native code for React Native 3rd party you use.
So, we will need to clone the native app and the React Native repository.<!-- /react-text --></p><h2 class="sc-kpOJdX cGEAUG" data-reactid="180"><!-- react-text: 181 -->For Android<!-- /react-text --></h2><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="182"><code class="language-bash" data-reactid="183"><span class="token function">git</span> clone app-android
<span class="token function">git</span> clone react-native-views
</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="184"><!-- react-text: 185 -->So we will have two sibling folders:<!-- /react-text --></p><pre class="language-null sc-kAzzGY cBZpCn" data-reactid="186"><code class="language-null" data-reactid="187">‚îú‚îÄ‚îÄ app-android/
‚îú‚îÄ‚îÄ react-native-views/</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="188"><!-- react-text: 189 -->We decided to use symlink to have a cleaner structure (and that will make the CI configuration easy later, see Continuous Integration), so the setup for the Android project will look like this:<!-- /react-text --></p><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="190"><code class="language-bash" data-reactid="191"><span class="token function">cd</span> app-android
<span class="token function">ln</span> -s <span class="token punctuation">..</span>/react-native-views ./react-native-views
<span class="token function">cd</span> <span class="token punctuation">..</span>/react-native-views
<span class="token function">npm</span> <span class="token function">install</span>
</code></pre><pre class="language-null sc-kAzzGY cBZpCn" data-reactid="192"><code class="language-null" data-reactid="193">‚îú‚îÄ‚îÄ app-android/
‚îÇ   ‚îú‚îÄ‚îÄ react-native-views -> ../react-native-views
‚îú‚îÄ‚îÄ react-native-views/
‚îÇ   ‚îú‚îÄ‚îÄ node_modules/
‚îÇ   ‚îú‚îÄ‚îÄ package.json</code></pre><h2 class="sc-kpOJdX cGEAUG" data-reactid="194"><!-- react-text: 195 -->For iOS<!-- /react-text --></h2><p class="sc-jzJRlG dkFleX" data-reactid="196"><!-- react-text: 197 -->Similar steps to the Android process, but it seems that Xcode has difficulty following package with a symlink ‚Ä¶ so we have to be a little smarter:<!-- /react-text --></p><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="198"><code class="language-bash" data-reactid="199"><span class="token function">git</span> clone app-ios
<span class="token function">git</span> clone react-native-views

<span class="token function">cd</span> app-ios
<span class="token function">mkdir</span> -p react-native-views/node_modules
<span class="token function">cd</span> <span class="token punctuation">..</span>/react-native-views
<span class="token function">ln</span> -s <span class="token punctuation">..</span>/app-ios/react-native-views/node_modules ./node_modules
<span class="token function">npm</span> <span class="token function">install</span>
</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="200"><!-- react-text: 201 -->With this method, the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="202">node_modules</code><!-- react-text: 203 --> files will be written in the symlink. So those files will be located in the source of the symlink, the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="204">app-ios/react-native-views/node_modules</code><!-- react-text: 205 --> directory (This is pretty twisted, we had to admit).<!-- /react-text --></p><pre class="language-null sc-kAzzGY cBZpCn" data-reactid="206"><code class="language-null" data-reactid="207">‚îú‚îÄ‚îÄ app-ios/
‚îÇ   ‚îú‚îÄ‚îÄ react-native-views/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ node_modules/
‚îú‚îÄ‚îÄ react-native-views/
‚îÇ   ‚îú‚îÄ‚îÄ node_modules -> ../app-ios/react-native-views/node_modules
‚îÇ   ‚îú‚îÄ‚îÄ package.json</code></pre><h2 class="sc-kpOJdX cGEAUG" data-reactid="208"><!-- react-text: 209 -->React Native<!-- /react-text --></h2><p class="sc-jzJRlG dkFleX" data-reactid="210"><!-- react-text: 211 -->Now we can choose: JavaScript developers are able to develop on any native app with the React Native <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="212">packager</code><!-- react-text: 213 --> (<!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="214">npm start</code><!-- react-text: 215 --> in the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="216">react-native-views</code><!-- react-text: 217 --> directory) and native developers can develop either with the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="218">packager</code><!-- react-text: 219 --> started or with a pre-built React Native bundle (if their developments don‚Äôt concern React Native) by switching a Scheme (iOS) or a flavour (Android).<!-- /react-text --></p><h1 class="sc-kgoBCf blLsxQ" data-reactid="220"><!-- react-text: 221 -->Continuous integration<!-- /react-text --></h1><p class="sc-jzJRlG dkFleX" data-reactid="222"><!-- react-text: 223 -->The next step was to find a way to improve the mobile development workflow.
During our research, we found a SAAS tool named <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="https://www.buddybuild.com" data-reactid="224"><!-- react-text: 225 -->buddybuild<!-- /react-text --></a><!-- react-text: 226 --> that‚Äôs able to build the iOS &amp; Android apps on each pull request. The setup for the native apps (before the React Native integration) or the React Native side project was really straightforward. It just magically works!<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="227"><!-- react-text: 228 -->With the 3 Git repositories of our brownfield apps, it‚Äôs a bit more complicated than that. For this, buddybuild provides two useful hooks during the CI process. We just have to add a shell file in the repository:<!-- /react-text --></p><ul class="sc-cMljjf ggLcPy" data-reactid="229"><li class="sc-jAaTju gAAzOx" data-reactid="230"><code class="sc-jWBwVP gbenQb" data-reactid="231">buddybuild_postclone.sh</code><!-- react-text: 232 -->: This is the hook that happens just after the cloning of the current repository by buddybuild<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="233"><code class="sc-jWBwVP gbenQb" data-reactid="234">buddybuild_prebuild.sh</code><!-- react-text: 235 -->: This hook is called after postclone and after buddybuild gets all dependencies (npm, Pod, Gradle ‚Ä¶), but just before the build starts  <!-- /react-text --></li></ul><p class="sc-jzJRlG dkFleX" data-reactid="236"><!-- react-text: 237 -->To allow our Product Owners to test the app‚Äôs functionality, whether it&#x27;s related to React Native or not, we‚Äôd need:<!-- /react-text --></p><ul class="sc-cMljjf ggLcPy" data-reactid="238"><li class="sc-jAaTju gAAzOx" data-reactid="239"><!-- react-text: 240 -->An iOS build on each pull request on the iOS repository<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="241"><!-- react-text: 242 -->An Android build on each pull request on the Android repository<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="243"><!-- react-text: 244 -->An iOS &amp; Android build on each pull request on the React Native repository<!-- /react-text --></li></ul><p class="sc-jzJRlG dkFleX" data-reactid="245"><!-- react-text: 246 -->To meet the specific needs of our app development, we required:<!-- /react-text --></p><ul class="sc-cMljjf ggLcPy" data-reactid="247"><li class="sc-jAaTju gAAzOx" data-reactid="248"><!-- react-text: 249 -->For iOS &amp; Android, we need a way to include the React Native code which lies in another repository.<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="250"><!-- react-text: 251 -->For the React Native repository, we need a way to build the iOS &amp; Android apps which lie in other repositories as well, and including the React Native code in it.<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="252"><!-- react-text: 253 -->Our iOS and Android apps up-to-date with both the master branch of the native app, and the master branch of the React Native repository.<!-- /react-text --></li><li class="sc-jAaTju gAAzOx" data-reactid="254"><!-- react-text: 255 -->If a feature needs modifications on both the native code and the React Native code (multiple pull requests, one on each concerned repositories), we want an app synchronized with all repositories.<!-- /react-text --></li></ul><p class="sc-jzJRlG dkFleX" data-reactid="256"><!-- react-text: 257 -->So let‚Äôs dig in these 4 points.<!-- /react-text --></p><h2 class="sc-kpOJdX cGEAUG" data-reactid="258"><!-- react-text: 259 -->Build the iOS &amp; Android apps including the React Native bundle<!-- /react-text --></h2><p class="sc-jzJRlG dkFleX" data-reactid="260"><!-- react-text: 261 -->The key here is to clone the React Native repository in the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="262">postclone</code><!-- react-text: 263 --> buddybuild hook and reproduce the directory structure we have in development mode.<!-- /react-text --></p><h3 class="sc-ckVGcZ kDNhcm" data-reactid="264"><!-- react-text: 265 -->for iOS<!-- /react-text --></h3><p class="sc-jzJRlG dkFleX" data-reactid="266"><!-- react-text: 267 -->buddybuild_postclone.sh:<!-- /react-text --></p><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="268"><code class="language-bash" data-reactid="269"><span class="token function">git</span> clone react-native-views

<span class="token comment" spellcheck="true"># Create the symbolic link of the package.json at the root to make buddybuild triggering the `npm install`</span>
<span class="token function">ln</span> -s react-native-views/package.json package.json
<span class="token comment" spellcheck="true"># Make Xcode able to access to the node dependencies</span>
<span class="token function">ln</span> -s react-native-views/node_modules node_modules
</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="270"><!-- react-text: 271 -->buddybuild_prebuild.sh:<!-- /react-text --></p><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="272"><code class="language-bash" data-reactid="273"><span class="token comment" spellcheck="true"># export React Native bundle:</span>
node_modules/.bin/react-native bundle --platform ios --entry-file index.ios.js --bundle-output <span class="token punctuation">..</span>/<span class="token operator">&lt;</span>appFolder<span class="token operator">></span>/main.ios.jsbundle --dev <span class="token boolean">false</span>
</code></pre><pre class="language-null sc-kAzzGY cBZpCn" data-reactid="274"><code class="language-null" data-reactid="275">‚îú‚îÄ‚îÄ buddybuild workspace/ (app-ios inside)
‚îÇ   ‚îú‚îÄ‚îÄ react-native-views/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ node_modules/
‚îÇ   ‚îú‚îÄ‚îÄ package.json -> react-native-views/package.json
‚îÇ   ‚îú‚îÄ‚îÄ node_modules -> react-native-views/node_modules</code></pre><h3 class="sc-ckVGcZ kDNhcm" data-reactid="276"><!-- react-text: 277 -->for Android<!-- /react-text --></h3><p class="sc-jzJRlG dkFleX" data-reactid="278"><!-- react-text: 279 -->buddybuild_postclone.sh:<!-- /react-text --></p><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="280"><code class="language-bash" data-reactid="281"><span class="token function">git</span> clone react-native-views

<span class="token comment" spellcheck="true"># Create the symbolic link of the package.json at the root to make buddybuild triggering the `npm install`</span>
<span class="token function">ln</span> -s react-native-views/package.json package.json
<span class="token comment" spellcheck="true"># When buddybuild will run `npm install`, the node dependencies will be at the right place</span>
<span class="token function">ln</span> -s react-native-views/node_modules node_modules
</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="282"><!-- react-text: 283 -->buddybuild_prebuild.sh:<!-- /react-text --></p><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="284"><code class="language-bash" data-reactid="285"><span class="token comment" spellcheck="true"># export React Native bundle:</span>
node_modules/.bin/react-native bundle --platform android --entry-file index.android.js --bundle-output <span class="token punctuation">..</span>/<span class="token operator">&lt;</span>appFolder<span class="token operator">></span>/main.android.jsbundle --dev <span class="token boolean">false</span>
</code></pre><pre class="language-null sc-kAzzGY cBZpCn" data-reactid="286"><code class="language-null" data-reactid="287">‚îú‚îÄ‚îÄ buddybuild workspace/ (app-android inside)
‚îÇ   ‚îú‚îÄ‚îÄ react-native-views/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ node_modules/
‚îÇ   ‚îú‚îÄ‚îÄ package.json -> react-native-views/package.json
‚îÇ   ‚îú‚îÄ‚îÄ node_modules -> react-native-views/node_modules</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="288"><!-- react-text: 289 -->The only thing you have to do in the buddybuild dashboard is to create the app for each platform and activate the build on pull request only (see screenshot below). Buddybuild will automatically trigger an iOS &amp; Android build on each pull request for the native repositories.<!-- /react-text --></p><div class="sc-jlyJG kdityM" data-reactid="290"><img class="sc-gipzik hxWvo" src="/static/ea6304ab88ecdc00a8c436b78d2e43e9-11e0a.png" data-reactid="291"/></div><h2 class="sc-kpOJdX cGEAUG" data-reactid="292"><!-- react-text: 293 -->Build the iOS &amp; Android apps on each pull request from the React Native repository<!-- /react-text --></h2><p class="sc-jzJRlG dkFleX" data-reactid="294"><!-- react-text: 295 -->Now, we‚Äôd like to easily test each <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="296">react-native-views</code><!-- react-text: 297 --> pull request on both iOS and Android apps.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="298"><!-- react-text: 299 -->For that purpose, we used the buddybuild hook again. Here is the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="300">buddybuild_postclone.sh</code><!-- react-text: 301 -->:<!-- /react-text --></p><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="302"><code class="language-bash" data-reactid="303"><span class="token comment" spellcheck="true"># Create a react-native-views folder</span>
<span class="token function">mkdir</span> react-native-views
<span class="token comment" spellcheck="true"># Move everything in it</span>
<span class="token function">mv</span> * react-native-views

<span class="token comment" spellcheck="true"># The postclone hook is ran by buddybuild for both iOS and Android builds. We distinguish the platform here, thanks to the env variable BUDDYBUILD_APP_ID (set by buddybuild)..</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$BUDDYBUILD_APP_ID</span>"</span> <span class="token operator">=</span> <span class="token string">"&lt;buddybuildAndroidAppID>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
<span class="token function">git</span> clone app-android
<span class="token function">cd</span> app-android
<span class="token keyword">else</span>
<span class="token function">git</span> clone app-ios
<span class="token function">cd</span> app-ios
<span class="token keyword">fi</span>

<span class="token comment" spellcheck="true"># Move the native app to the root of the workspace</span>
<span class="token function">mv</span> * <span class="token punctuation">..</span>
<span class="token function">cd</span> <span class="token punctuation">..</span>

<span class="token comment" spellcheck="true"># Create the future node_modules location folder</span>
<span class="token function">mkdir</span> -p react-native-views/node_modules
<span class="token comment" spellcheck="true"># Create the symbolic link for the app to be able to found the node_modules at the good place</span>
<span class="token function">ln</span> -s react-native-views/node_modules node_modules
<span class="token comment" spellcheck="true"># Create the symbolic link of the package.json at the root to make buddybuild triggering the `npm install`</span>
<span class="token function">ln</span> -s react-native-views/package.json package.json
</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="304"><!-- react-text: 305 -->For iOS, you‚Äôll have:<!-- /react-text --></p><pre class="language-null sc-kAzzGY cBZpCn" data-reactid="306"><code class="language-null" data-reactid="307">‚îú‚îÄ‚îÄ buddybuild workspace/ (app-ios inside)
‚îÇ   ‚îú‚îÄ‚îÄ react-native-views/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ node_modules/
‚îÇ   ‚îú‚îÄ‚îÄ package.json -> react-native-views/package.json
‚îÇ   ‚îú‚îÄ‚îÄ node_modules -> react-native-views/node_modules</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="308"><!-- react-text: 309 -->For Android, you‚Äôll have:<!-- /react-text --></p><pre class="language-null sc-kAzzGY cBZpCn" data-reactid="310"><code class="language-null" data-reactid="311">‚îú‚îÄ‚îÄ buddybuild workspace/ (app-android inside)
‚îÇ   ‚îú‚îÄ‚îÄ react-native-views/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ node_modules/
‚îÇ   ‚îú‚îÄ‚îÄ package.json -> react-native-views/package.json
‚îÇ   ‚îú‚îÄ‚îÄ node_modules -> react-native-views/node_modules</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="312"><!-- react-text: 313 -->By doing that, buddybuild will automatically install the npm dependencies, then launch the same <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="314">prebuild</code><!-- react-text: 315 --> hook as the native repository to build the React Native bundle.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="316"><!-- react-text: 317 -->Using buddybuild, you can create the app for each platform, and trigger new builds only when pull requests are opened, or when commits are added to existing pull requests. Buddybuild also builds both apps when React Native pull requests are opened as well.<!-- /react-text --></p><h2 class="sc-kpOJdX cGEAUG" data-reactid="318"><!-- react-text: 319 -->When master of React Native change, update the master iOS &amp; Android apps<!-- /react-text --></h2><p class="sc-jzJRlG dkFleX" data-reactid="320"><!-- react-text: 321 -->Buddybuild makes it very easy to trigger a build programmatically via the API. We also use Jenkins for unit tests and lint, so we have a job triggered every time a push is made on the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="322">master</code><!-- react-text: 323 --> branch of <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="324">react-native-views</code><!-- react-text: 325 -->. We have reused this job and append the following:<!-- /react-text --></p><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="326"><code class="language-bash" data-reactid="327"><span class="token comment" spellcheck="true"># Our credentials</span>
ACCESS_TOKEN_BB<span class="token operator">=</span><span class="token operator">&lt;</span>AccessToken<span class="token operator">></span>
APP_ID_BB_IOS<span class="token operator">=</span><span class="token operator">&lt;</span>buddybuildiOSAppID<span class="token operator">></span>
APP_ID_BB_ANDROID<span class="token operator">=</span><span class="token operator">&lt;</span>buddybuildAndroidAppID<span class="token operator">></span>

<span class="token comment" spellcheck="true"># Build iOS</span>
curl -X POST -H  <span class="token string">'Authorization: Bearer '</span><span class="token variable">$ACCESS_TOKEN_BB</span>‚Äù -d <span class="token string">'branch=master‚Äô '</span>https://api.buddybuild.com/v1/apps/<span class="token string">'<span class="token variable">$APP_ID_BB_IOS</span>'</span>/build<span class="token string">'

# Build Android
curl -X POST -H  '</span>Authorization: Bearer <span class="token string">'<span class="token variable">$ACCESS_TOKEN_BB</span>‚Äù -d '</span>branch<span class="token operator">=</span>master‚Äô <span class="token string">'https://api.buddybuild.com/v1/apps/'</span><span class="token variable">$APP_ID_BB_ANDROID</span><span class="token string">'/build'</span>
</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="328"><!-- react-text: 329 -->Now, you can activate the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="330">master</code><!-- react-text: 331 --> build on the native iOS &amp; Android buddybuild build, and you‚Äôll have those apps up-to-date with the master branch.<!-- /react-text --></p><div class="sc-jlyJG kdityM" data-reactid="332"><img class="sc-gipzik hxWvo" src="/static/287829eb4d2b00436c53992b791d0027-c7f63.png" data-reactid="333"/></div><h2 class="sc-kpOJdX cGEAUG" data-reactid="334"><!-- react-text: 335 -->Cross platform feature (both native &amp; React Native)<!-- /react-text --></h2><p class="sc-jzJRlG dkFleX" data-reactid="336"><!-- react-text: 337 -->At this point, this is not enough, because if you develop a feature that needs native and React Native modifications, you will not have the corresponding app before merging everything.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="338"><!-- react-text: 339 -->We have decided here to add a rule: for a ‚Äúcross platform feature‚Äù (like a bridge for a native component for example), we have to define the same name for the branches in each repositories.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="340"><!-- react-text: 341 -->A bridge for a native component (the authentication bridge as an example) would have three Git branches with the same name, and three pull requests (one on each repository).<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="342"><!-- react-text: 343 -->By following this convention, we only have to checkout that branch when we clone the external repository in our <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="344">postclone</code><!-- react-text: 345 --> hooks:<!-- /react-text --></p><pre class="language-bash sc-kAzzGY cBZpCn" data-reactid="346"><code class="language-bash" data-reactid="347"><span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true"># Detect with the env variable BUDDYBUILD_BRANCH (given by buddybuild) the branch we are on.</span>
  <span class="token keyword">echo</span> <span class="token string">"Git checkout branch: <span class="token variable">$BUDDYBUILD_BRANCH</span>"</span>
  <span class="token function">git</span> checkout <span class="token variable">$BUDDYBUILD_BRANCH</span>
<span class="token punctuation">}</span> <span class="token operator">||</span> <span class="token punctuation">{</span>
  <span class="token keyword">echo</span> <span class="token string">"Git default branch: master"</span>
  <span class="token function">git</span> checkout master <span class="token comment" spellcheck="true"># if master is the name of your default branch</span>
<span class="token punctuation">}</span>
</code></pre><p class="sc-jzJRlG dkFleX" data-reactid="348"><!-- react-text: 349 -->We do that branch name checking on the three repositories. This way, the four buddybuild projects (app-ios, app-android, react-native-views-ios, and react-native-views-android) can build native applications with modification on both sides.<!-- /react-text --></p><h1 class="sc-kgoBCf blLsxQ" data-reactid="350"><!-- react-text: 351 -->Conclusion<!-- /react-text --></h1><p class="sc-jzJRlG dkFleX" data-reactid="352"><!-- react-text: 353 -->Thanks to React Native and buddybuild, we now have a complete workflow as powerful as we have on the website. Being able to review either React Native or native code, and testing a real app before the code lands on the <!-- /react-text --><code class="sc-jWBwVP gbenQb" data-reactid="354">master</code><!-- react-text: 355 --> branch is a big improvement for code quality and a huge step forward towards more agility.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="356"><!-- react-text: 357 -->Big up to <!-- /react-text --><a class="sc-hSdWYo kndpkt" href="http://tapptic.com/" data-reactid="358"><!-- react-text: 359 -->Tapptic Team<!-- /react-text --></a><!-- react-text: 360 -->, M6Web React Native team for this work, to the buddybuild support team for the help when needed.<!-- /react-text --></p><p class="sc-jzJRlG dkFleX" data-reactid="361"><!-- react-text: 362 -->Special thanks to Nicolas Cuillery and Alysha for their proofreading!<!-- /react-text --></p></div></div></div><div class="sc-gZMcBi dAKnmY" data-reactid="363"><div class="sc-kgAjT uVVjM" data-reactid="364"><!-- react-text: 365 -->¬© M6 WEB <!-- /react-text --><!-- react-text: 366 -->2017<!-- /react-text --><!-- react-text: 367 --> ‚Äî <!-- /react-text --><!-- react-text: 368 --> Built with<!-- /react-text --><!-- react-text: 369 --> <!-- /react-text --><a class="sc-bdVaJa fKsidO" href="https://www.gatsbyjs.org/" data-reactid="370">Gatsby</a></div></div></div></div></body></html>